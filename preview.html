<html lang="fr">

<head>
    <title>Simple HA shutter</title>
    <script type="text/javascript" src="hass-shutter-alt-card.js"></script>
    <script>
        function init() {
            const shutterCard = document.createElement("shutter-alt-card");
            document.body.appendChild(shutterCard);
            shutterCard.setConfig({
                entity: "cover.pergola_roof",
                debug: true
            })
            const global_hass = {
                states: {
                    "cover.pergola_roof": {
                        "attributes": {
                            current_position: 0
                        }
                    }
                }
            }
            shutterCard.hass = JSON.parse(JSON.stringify(global_hass));
            // add button 0
            var button0 = document.createElement('button');
            button0.type = 'button';
            button0.innerHTML = 'set 0%';
            document.body.appendChild(button0);

            button0.onclick = function () {
                global_hass.states["cover.pergola_roof"].attributes.current_position = 0;
                shutterCard.hass = JSON.parse(JSON.stringify(global_hass));
            };
            // add button 50
            var button50 = document.createElement('button');
            button50.type = 'button';
            button50.innerHTML = 'set 50%';
            document.body.appendChild(button50);

            button50.onclick = function () {
                global_hass.states["cover.pergola_roof"].attributes.current_position = 50;
                shutterCard.hass = JSON.parse(JSON.stringify(global_hass));
            };
            // add button 100
            var button100 = document.createElement('button');
            button100.type = 'button';
            button100.innerHTML = 'set 100%';
            document.body.appendChild(button100);

            button100.onclick = function () {
                global_hass.states["cover.pergola_roof"].attributes.current_position = 100;
                shutterCard.hass = JSON.parse(JSON.stringify(global_hass));
            };
        }
    </script>
</head>

<body onload="init()">
</body>

</html>